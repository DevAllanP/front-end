{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Workspace\\\\Workspace_2\\\\Project\\\\E-Commerce\\\\front-end\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/auth/auth.service\";\nimport * as i3 from \"src/app/services/paiement.service\";\nimport * as i4 from \"src/app/services/utilisateur.service\";\nimport * as i5 from \"ngx-stripe\";\n/*const Stripe = require('stripe');\r\nconst stripe = Stripe('sk_test_51Kb3R1ASJH3PI53qo0Des8MLgewbQeQ1ieWwchtLaBPibiswwGD23KGh4uarku5jXWE0GKkETeocvljwz0NpuPKT00K6qaIsTV');*/\n\nexport class StripePaiementComponent {\n  constructor(fb, authService, paiementService, service, Stripe) {\n    this.fb = fb;\n    this.authService = authService;\n    this.paiementService = paiementService;\n    this.service = service;\n    this.Stripe = Stripe; // This is your test publishable API key.\n\n    this.stripe = require('stripe')(\"pk_test_51Kb3R1ASJH3PI53qIMReKI1VHjOxF14Apm5MH9qIckiKYhGDFoGDx2n59ijkBpvdef9gpDUU8g9vA0FzqVKSIXXD008WQPy3xd\"); // The items the customer wants to buy\n\n    this.items = [{\n      id: \"xl-tshirt\"\n    }];\n    this.paiement = this.fb.group({\n      nom: ['', Validators.required],\n      prix: ['', Validators.required],\n      price: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {\n    this.authService.currentUser.subscribe({\n      next: u => {\n        this.paiementService.getOrder().subscribe();\n        console.log(u);\n        this.currentUser = u;\n      }\n    });\n  }\n\n  onSubmit() {\n    this.paiementService.cree;\n  } // Fetches a payment intent and captures the client secret\n\n\n  initialize(elements, items) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const response = yield fetch(\"/create-payment-intent\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          items\n        })\n      });\n      const {\n        clientSecret\n      } = yield response.json();\n      const appearance = {\n        theme: 'night'\n      };\n      elements = _this.stripe.elements({\n        clientSecret: 'CLIENT_SECRET'\n      });\n      const paymentElement = elements.create(\"payment\");\n      paymentElement.mount(\"#payment-element\");\n    })();\n  }\n\n  handleSubmit(e) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      e.preventDefault();\n\n      _this2.setLoading(true);\n\n      const {\n        error\n      } = yield thisstripe.confirmPayment({\n        confirmParams: {\n          // Make sure to change this to your payment completion page\n          return_url: \"http://localhost:4200/test\"\n        }\n      }); // This point will only be reached if there is an immediate error when\n      // confirming the payment. Otherwise, your customer will be redirected to\n      // your `return_url`. For some payment methods like iDEAL, your customer will\n      // be redirected to an intermediate site first to authorize the payment, then\n      // redirected to the `return_url`.\n\n      if (error.type === \"card_error\" || error.type === \"validation_error\") {\n        _this2.showMessage(error.message);\n      } else {\n        _this2.showMessage(\"An unexpected error occured.\");\n      }\n\n      _this2.setLoading(false);\n    })();\n  } // Fetches the payment intent status after payment submission\n\n\n  checkStatus() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const clientSecret = new URLSearchParams(window.location.search).get(\"payment_intent_client_secret\");\n\n      if (!clientSecret) {\n        return;\n      }\n\n      const {\n        paymentIntent\n      } = yield stripe.retrievePaymentIntent(clientSecret);\n\n      switch (paymentIntent.status) {\n        case \"succeeded\":\n          _this3.showMessage(\"Payment succeeded!\");\n\n          break;\n\n        case \"processing\":\n          _this3.showMessage(\"Your payment is processing.\");\n\n          break;\n\n        case \"requires_payment_method\":\n          _this3.showMessage(\"Your payment was not successful, please try again.\");\n\n          break;\n\n        default:\n          _this3.showMessage(\"Something went wrong.\");\n\n          break;\n      }\n    })();\n  } // ------- UI helpers -------\n\n\n  showMessage(messageText) {\n    let messageContainer = document.querySelector(\"#payment-message\");\n    messageContainer === null || messageContainer === void 0 ? void 0 : messageContainer.classList.remove(\"hidden\");\n    messageContainer = messageText;\n    setTimeout(function () {\n      messageContainer === null || messageContainer === void 0 ? void 0 : messageContainer.classList.add(\"hidden\");\n      messageText.textContent = \"\";\n    }, 4000);\n  } // Show a spinner on payment submission\n\n\n  setLoading(isLoading) {\n    var _a, _b, _c, _d;\n\n    if (isLoading) {\n      // Disable the button and show a spinner\n      document.querySelector(\"#submit\");\n      (_a = document.querySelector(\"#spinner\")) === null || _a === void 0 ? void 0 : _a.classList.remove(\"hidden\");\n      (_b = document.querySelector(\"#button-text\")) === null || _b === void 0 ? void 0 : _b.classList.add(\"hidden\");\n    } else {\n      document.querySelector(\"#submit\");\n      (_c = document.querySelector(\"#spinner\")) === null || _c === void 0 ? void 0 : _c.classList.add(\"hidden\");\n      (_d = document.querySelector(\"#button-text\")) === null || _d === void 0 ? void 0 : _d.classList.remove(\"hidden\");\n    }\n  }\n\n}\n\nStripePaiementComponent.ɵfac = function StripePaiementComponent_Factory(t) {\n  return new (t || StripePaiementComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.PaiementService), i0.ɵɵdirectiveInject(i4.UtilisateurService), i0.ɵɵdirectiveInject(i5.StripeService));\n};\n\nStripePaiementComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StripePaiementComponent,\n  selectors: [[\"app-stripe-paiement\"]],\n  decls: 15,\n  vars: 0,\n  consts: [[\"lang\", \"en\"], [\"charset\", \"utf-8\"], [\"name\", \"description\", \"content\", \"A demo of a payment on Stripe\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"id\", \"payment-form\"], [\"id\", \"payment-element\"], [\"id\", \"submit\"], [\"id\", \"spinner\", 1, \"spinner\", \"hidden\"], [\"id\", \"button-text\"], [\"id\", \"payment-message\", 1, \"hidden\"]],\n  template: function StripePaiementComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1);\n      i0.ɵɵelementStart(3, \"title\");\n      i0.ɵɵtext(4, \"Accept a payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"meta\", 2)(6, \"meta\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"body\")(8, \"form\", 4);\n      i0.ɵɵelement(9, \"div\", 5);\n      i0.ɵɵelementStart(10, \"button\", 6);\n      i0.ɵɵelement(11, \"div\", 7);\n      i0.ɵɵelementStart(12, \"span\", 8);\n      i0.ɵɵtext(13, \"Pay now\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(14, \"div\", 9);\n      i0.ɵɵelementEnd()()();\n    }\n  },\n  styles: [\"*[_ngcontent-%COMP%] {\\r\\n    box-sizing: border-box;\\r\\n  }\\r\\nbody[_ngcontent-%COMP%] {\\r\\n    font-family: -apple-system, BlinkMacSystemFont, sans-serif;\\r\\n    font-size: 16px;\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-content: center;\\r\\n    height: 100vh;\\r\\n    width: 100vw;\\r\\n  }\\r\\nform[_ngcontent-%COMP%] {\\r\\n    width: 30vw;\\r\\n    min-width: 500px;\\r\\n    align-self: center;\\r\\n    box-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\\r\\n      0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\\r\\n    border-radius: 7px;\\r\\n    padding: 40px;\\r\\n  }\\r\\n.hidden[_ngcontent-%COMP%] {\\r\\n    display: none;\\r\\n  }\\r\\n#payment-message[_ngcontent-%COMP%] {\\r\\n    color: rgb(105, 115, 134);\\r\\n    font-size: 16px;\\r\\n    line-height: 20px;\\r\\n    padding-top: 12px;\\r\\n    text-align: center;\\r\\n  }\\r\\n#payment-element[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 24px;\\r\\n  }\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    background: #5469d4;\\r\\n    font-family: Arial, sans-serif;\\r\\n    color: #ffffff;\\r\\n    border-radius: 4px;\\r\\n    border: 0;\\r\\n    padding: 12px 16px;\\r\\n    font-size: 16px;\\r\\n    font-weight: 600;\\r\\n    cursor: pointer;\\r\\n    display: block;\\r\\n    transition: all 0.2s ease;\\r\\n    box-shadow: 0px 4px 5.5px 0px rgba(0, 0, 0, 0.07);\\r\\n    width: 100%;\\r\\n  }\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n    filter: contrast(115%);\\r\\n  }\\r\\nbutton[_ngcontent-%COMP%]:disabled {\\r\\n    opacity: 0.5;\\r\\n    cursor: default;\\r\\n  }\\r\\n\\r\\n.spinner[_ngcontent-%COMP%], .spinner[_ngcontent-%COMP%]:before, .spinner[_ngcontent-%COMP%]:after {\\r\\n    border-radius: 50%;\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    color: #ffffff;\\r\\n    font-size: 22px;\\r\\n    text-indent: -99999px;\\r\\n    margin: 0px auto;\\r\\n    position: relative;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    box-shadow: inset 0 0 0 2px;\\r\\n    transform: translateZ(0);\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%]:before, .spinner[_ngcontent-%COMP%]:after {\\r\\n    position: absolute;\\r\\n    content: \\\"\\\";\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%]:before {\\r\\n    width: 10.4px;\\r\\n    height: 20.4px;\\r\\n    background: #5469d4;\\r\\n    border-radius: 20.4px 0 0 20.4px;\\r\\n    top: -0.2px;\\r\\n    left: -0.2px;\\r\\n    transform-origin: 10.4px 10.2px;\\r\\n    animation: loading 2s infinite ease 1.5s;\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%]:after {\\r\\n    width: 10.4px;\\r\\n    height: 10.2px;\\r\\n    background: #5469d4;\\r\\n    border-radius: 0 10.2px 10.2px 0;\\r\\n    top: -0.1px;\\r\\n    left: 10.2px;\\r\\n    transform-origin: 0px 10.2px;\\r\\n    animation: loading 2s infinite ease;\\r\\n  }\\r\\n@keyframes loading {\\r\\n    0% {\\r\\n      transform: rotate(0deg);\\r\\n    }\\r\\n    100% {\\r\\n      transform: rotate(360deg);\\r\\n    }\\r\\n  }\\r\\n@media only screen and (max-width: 600px) {\\r\\n    form[_ngcontent-%COMP%] {\\r\\n      width: 80vw;\\r\\n      min-width: initial;\\r\\n    }\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmlwZS1wYWllbWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWM7QUFDZDtJQUNJLHNCQUFzQjtFQUN4QjtBQUVBO0lBQ0UsMERBQTBEO0lBQzFELGVBQWU7SUFDZixtQ0FBbUM7SUFDbkMsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixxQkFBcUI7SUFDckIsYUFBYTtJQUNiLFlBQVk7RUFDZDtBQUVBO0lBQ0UsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEI7a0ZBQzhFO0lBQzlFLGtCQUFrQjtJQUNsQixhQUFhO0VBQ2Y7QUFFQTtJQUNFLGFBQWE7RUFDZjtBQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtFQUNwQjtBQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCO0FBRUEsc0JBQXNCO0FBQ3RCO0lBQ0UsbUJBQW1CO0lBQ25CLDhCQUE4QjtJQUM5QixjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpREFBaUQ7SUFDakQsV0FBVztFQUNiO0FBQ0E7SUFDRSxzQkFBc0I7RUFDeEI7QUFDQTtJQUNFLFlBQVk7SUFDWixlQUFlO0VBQ2pCO0FBRUEscUNBQXFDO0FBQ3JDOzs7SUFHRSxrQkFBa0I7RUFDcEI7QUFDQTtJQUNFLGNBQWM7SUFDZCxlQUFlO0lBQ2YscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWiwyQkFBMkI7SUFHM0Isd0JBQXdCO0VBQzFCO0FBQ0E7O0lBRUUsa0JBQWtCO0lBQ2xCLFdBQVc7RUFDYjtBQUNBO0lBQ0UsYUFBYTtJQUNiLGNBQWM7SUFDZCxtQkFBbUI7SUFDbkIsZ0NBQWdDO0lBQ2hDLFdBQVc7SUFDWCxZQUFZO0lBRVosK0JBQStCO0lBRS9CLHdDQUF3QztFQUMxQztBQUNBO0lBQ0UsYUFBYTtJQUNiLGNBQWM7SUFDZCxtQkFBbUI7SUFDbkIsZ0NBQWdDO0lBQ2hDLFdBQVc7SUFDWCxZQUFZO0lBRVosNEJBQTRCO0lBRTVCLG1DQUFtQztFQUNyQztBQVlBO0lBQ0U7TUFFRSx1QkFBdUI7SUFDekI7SUFDQTtNQUVFLHlCQUF5QjtJQUMzQjtFQUNGO0FBRUE7SUFDRTtNQUNFLFdBQVc7TUFDWCxrQkFBa0I7SUFDcEI7RUFDRiIsImZpbGUiOiJzdHJpcGUtcGFpZW1lbnQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFZhcmlhYmxlcyAqL1xyXG4qIHtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgfVxyXG4gIFxyXG4gIGJvZHkge1xyXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIHdpZHRoOiAxMDB2dztcclxuICB9XHJcbiAgXHJcbiAgZm9ybSB7XHJcbiAgICB3aWR0aDogMzB2dztcclxuICAgIG1pbi13aWR0aDogNTAwcHg7XHJcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDBweCAwLjVweCByZ2JhKDUwLCA1MCwgOTMsIDAuMSksXHJcbiAgICAgIDBweCAycHggNXB4IDBweCByZ2JhKDUwLCA1MCwgOTMsIDAuMSksIDBweCAxcHggMS41cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA3cHg7XHJcbiAgICBwYWRkaW5nOiA0MHB4O1xyXG4gIH1cclxuICBcclxuICAuaGlkZGVuIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG4gIFxyXG4gICNwYXltZW50LW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6IHJnYigxMDUsIDExNSwgMTM0KTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDEycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gICNwYXltZW50LWVsZW1lbnQge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICB9XHJcbiAgXHJcbiAgLyogQnV0dG9ucyBhbmQgbGlua3MgKi9cclxuICBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogIzU0NjlkNDtcclxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgcGFkZGluZzogMTJweCAxNnB4O1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcclxuICAgIGJveC1zaGFkb3c6IDBweCA0cHggNS41cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgYnV0dG9uOmhvdmVyIHtcclxuICAgIGZpbHRlcjogY29udHJhc3QoMTE1JSk7XHJcbiAgfVxyXG4gIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIHNwaW5uZXIvcHJvY2Vzc2luZyBzdGF0ZSwgZXJyb3JzICovXHJcbiAgLnNwaW5uZXIsXHJcbiAgLnNwaW5uZXI6YmVmb3JlLFxyXG4gIC5zcGlubmVyOmFmdGVyIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICB9XHJcbiAgLnNwaW5uZXIge1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICB0ZXh0LWluZGVudDogLTk5OTk5cHg7XHJcbiAgICBtYXJnaW46IDBweCBhdXRvO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgd2lkdGg6IDIwcHg7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgMCAycHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcclxuICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XHJcbiAgfVxyXG4gIC5zcGlubmVyOmJlZm9yZSxcclxuICAuc3Bpbm5lcjphZnRlciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG4gIH1cclxuICAuc3Bpbm5lcjpiZWZvcmUge1xyXG4gICAgd2lkdGg6IDEwLjRweDtcclxuICAgIGhlaWdodDogMjAuNHB4O1xyXG4gICAgYmFja2dyb3VuZDogIzU0NjlkNDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwLjRweCAwIDAgMjAuNHB4O1xyXG4gICAgdG9wOiAtMC4ycHg7XHJcbiAgICBsZWZ0OiAtMC4ycHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDEwLjRweCAxMC4ycHg7XHJcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAxMC40cHggMTAuMnB4O1xyXG4gICAgLXdlYmtpdC1hbmltYXRpb246IGxvYWRpbmcgMnMgaW5maW5pdGUgZWFzZSAxLjVzO1xyXG4gICAgYW5pbWF0aW9uOiBsb2FkaW5nIDJzIGluZmluaXRlIGVhc2UgMS41cztcclxuICB9XHJcbiAgLnNwaW5uZXI6YWZ0ZXIge1xyXG4gICAgd2lkdGg6IDEwLjRweDtcclxuICAgIGhlaWdodDogMTAuMnB4O1xyXG4gICAgYmFja2dyb3VuZDogIzU0NjlkNDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAgMTAuMnB4IDEwLjJweCAwO1xyXG4gICAgdG9wOiAtMC4xcHg7XHJcbiAgICBsZWZ0OiAxMC4ycHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDBweCAxMC4ycHg7XHJcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwcHggMTAuMnB4O1xyXG4gICAgLXdlYmtpdC1hbmltYXRpb246IGxvYWRpbmcgMnMgaW5maW5pdGUgZWFzZTtcclxuICAgIGFuaW1hdGlvbjogbG9hZGluZyAycyBpbmZpbml0ZSBlYXNlO1xyXG4gIH1cclxuICBcclxuICBALXdlYmtpdC1rZXlmcmFtZXMgbG9hZGluZyB7XHJcbiAgICAwJSB7XHJcbiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgIH1cclxuICB9XHJcbiAgQGtleWZyYW1lcyBsb2FkaW5nIHtcclxuICAgIDAlIHtcclxuICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgICB9XHJcbiAgICAxMDAlIHtcclxuICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcbiAgICBmb3JtIHtcclxuICAgICAgd2lkdGg6IDgwdnc7XHJcbiAgICAgIG1pbi13aWR0aDogaW5pdGlhbDtcclxuICAgIH1cclxuICB9Il19 */\"]\n});\n\nfunction Stripe(arg0) {\n  throw new Error('Function not implemented.');\n}","map":{"version":3,"sources":["C:/Workspace/Workspace_2/Project/E-Commerce/front-end/src/app/modules/stripe-paiement/stripe-paiement.component.ts"],"names":["Validators","i0","i1","i2","i3","i4","i5","StripePaiementComponent","constructor","fb","authService","paiementService","service","Stripe","stripe","require","items","id","paiement","group","nom","required","prix","price","ngOnInit","currentUser","subscribe","next","u","getOrder","console","log","onSubmit","cree","initialize","elements","response","fetch","method","headers","body","JSON","stringify","clientSecret","json","appearance","theme","paymentElement","create","mount","handleSubmit","e","preventDefault","setLoading","error","thisstripe","confirmPayment","confirmParams","return_url","type","showMessage","message","checkStatus","URLSearchParams","window","location","search","get","paymentIntent","retrievePaymentIntent","status","messageText","messageContainer","document","querySelector","classList","remove","setTimeout","add","textContent","isLoading","_a","_b","_c","_d","ɵfac","StripePaiementComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","AuthService","PaiementService","UtilisateurService","StripeService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","StripePaiementComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","styles","arg0","Error"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"src/app/auth/auth.service\";\r\nimport * as i3 from \"src/app/services/paiement.service\";\r\nimport * as i4 from \"src/app/services/utilisateur.service\";\r\nimport * as i5 from \"ngx-stripe\";\r\n/*const Stripe = require('stripe');\r\nconst stripe = Stripe('sk_test_51Kb3R1ASJH3PI53qo0Des8MLgewbQeQ1ieWwchtLaBPibiswwGD23KGh4uarku5jXWE0GKkETeocvljwz0NpuPKT00K6qaIsTV');*/\r\nexport class StripePaiementComponent {\r\n    constructor(fb, authService, paiementService, service, Stripe) {\r\n        this.fb = fb;\r\n        this.authService = authService;\r\n        this.paiementService = paiementService;\r\n        this.service = service;\r\n        this.Stripe = Stripe;\r\n        // This is your test publishable API key.\r\n        this.stripe = require('stripe')(\"pk_test_51Kb3R1ASJH3PI53qIMReKI1VHjOxF14Apm5MH9qIckiKYhGDFoGDx2n59ijkBpvdef9gpDUU8g9vA0FzqVKSIXXD008WQPy3xd\");\r\n        // The items the customer wants to buy\r\n        this.items = [{ id: \"xl-tshirt\" }];\r\n        this.paiement = this.fb.group({\r\n            nom: ['', Validators.required],\r\n            prix: ['', Validators.required],\r\n            price: ['', Validators.required]\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.authService.currentUser.subscribe({\r\n            next: (u) => {\r\n                this.paiementService.getOrder().subscribe();\r\n                console.log(u);\r\n                this.currentUser = u;\r\n            },\r\n        });\r\n    }\r\n    onSubmit() {\r\n        this.paiementService.cree;\r\n    }\r\n    // Fetches a payment intent and captures the client secret\r\n    async initialize(elements, items) {\r\n        const response = await fetch(\"/create-payment-intent\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ items }),\r\n        });\r\n        const { clientSecret } = await response.json();\r\n        const appearance = {\r\n            theme: 'night',\r\n        };\r\n        elements = this.stripe.elements({\r\n            clientSecret: 'CLIENT_SECRET',\r\n        });\r\n        const paymentElement = elements.create(\"payment\");\r\n        paymentElement.mount(\"#payment-element\");\r\n    }\r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.setLoading(true);\r\n        const { error } = await thisstripe.confirmPayment({\r\n            confirmParams: {\r\n                // Make sure to change this to your payment completion page\r\n                return_url: \"http://localhost:4200/test\",\r\n            },\r\n        });\r\n        // This point will only be reached if there is an immediate error when\r\n        // confirming the payment. Otherwise, your customer will be redirected to\r\n        // your `return_url`. For some payment methods like iDEAL, your customer will\r\n        // be redirected to an intermediate site first to authorize the payment, then\r\n        // redirected to the `return_url`.\r\n        if (error.type === \"card_error\" || error.type === \"validation_error\") {\r\n            this.showMessage(error.message);\r\n        }\r\n        else {\r\n            this.showMessage(\"An unexpected error occured.\");\r\n        }\r\n        this.setLoading(false);\r\n    }\r\n    // Fetches the payment intent status after payment submission\r\n    async checkStatus() {\r\n        const clientSecret = new URLSearchParams(window.location.search).get(\"payment_intent_client_secret\");\r\n        if (!clientSecret) {\r\n            return;\r\n        }\r\n        const { paymentIntent } = await stripe.retrievePaymentIntent(clientSecret);\r\n        switch (paymentIntent.status) {\r\n            case \"succeeded\":\r\n                this.showMessage(\"Payment succeeded!\");\r\n                break;\r\n            case \"processing\":\r\n                this.showMessage(\"Your payment is processing.\");\r\n                break;\r\n            case \"requires_payment_method\":\r\n                this.showMessage(\"Your payment was not successful, please try again.\");\r\n                break;\r\n            default:\r\n                this.showMessage(\"Something went wrong.\");\r\n                break;\r\n        }\r\n    }\r\n    // ------- UI helpers -------\r\n    showMessage(messageText) {\r\n        let messageContainer = document.querySelector(\"#payment-message\");\r\n        messageContainer === null || messageContainer === void 0 ? void 0 : messageContainer.classList.remove(\"hidden\");\r\n        messageContainer = messageText;\r\n        setTimeout(function () {\r\n            messageContainer === null || messageContainer === void 0 ? void 0 : messageContainer.classList.add(\"hidden\");\r\n            messageText.textContent = \"\";\r\n        }, 4000);\r\n    }\r\n    // Show a spinner on payment submission\r\n    setLoading(isLoading) {\r\n        var _a, _b, _c, _d;\r\n        if (isLoading) {\r\n            // Disable the button and show a spinner\r\n            document.querySelector(\"#submit\");\r\n            (_a = document.querySelector(\"#spinner\")) === null || _a === void 0 ? void 0 : _a.classList.remove(\"hidden\");\r\n            (_b = document.querySelector(\"#button-text\")) === null || _b === void 0 ? void 0 : _b.classList.add(\"hidden\");\r\n        }\r\n        else {\r\n            document.querySelector(\"#submit\");\r\n            (_c = document.querySelector(\"#spinner\")) === null || _c === void 0 ? void 0 : _c.classList.add(\"hidden\");\r\n            (_d = document.querySelector(\"#button-text\")) === null || _d === void 0 ? void 0 : _d.classList.remove(\"hidden\");\r\n        }\r\n    }\r\n}\r\nStripePaiementComponent.ɵfac = function StripePaiementComponent_Factory(t) { return new (t || StripePaiementComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.PaiementService), i0.ɵɵdirectiveInject(i4.UtilisateurService), i0.ɵɵdirectiveInject(i5.StripeService)); };\r\nStripePaiementComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: StripePaiementComponent, selectors: [[\"app-stripe-paiement\"]], decls: 15, vars: 0, consts: [[\"lang\", \"en\"], [\"charset\", \"utf-8\"], [\"name\", \"description\", \"content\", \"A demo of a payment on Stripe\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"id\", \"payment-form\"], [\"id\", \"payment-element\"], [\"id\", \"submit\"], [\"id\", \"spinner\", 1, \"spinner\", \"hidden\"], [\"id\", \"button-text\"], [\"id\", \"payment-message\", 1, \"hidden\"]], template: function StripePaiementComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\r\n        i0.ɵɵelement(2, \"meta\", 1);\r\n        i0.ɵɵelementStart(3, \"title\");\r\n        i0.ɵɵtext(4, \"Accept a payment\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(5, \"meta\", 2)(6, \"meta\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"body\")(8, \"form\", 4);\r\n        i0.ɵɵelement(9, \"div\", 5);\r\n        i0.ɵɵelementStart(10, \"button\", 6);\r\n        i0.ɵɵelement(11, \"div\", 7);\r\n        i0.ɵɵelementStart(12, \"span\", 8);\r\n        i0.ɵɵtext(13, \"Pay now\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelement(14, \"div\", 9);\r\n        i0.ɵɵelementEnd()()();\r\n    } }, styles: [\"*[_ngcontent-%COMP%] {\\r\\n    box-sizing: border-box;\\r\\n  }\\r\\nbody[_ngcontent-%COMP%] {\\r\\n    font-family: -apple-system, BlinkMacSystemFont, sans-serif;\\r\\n    font-size: 16px;\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-content: center;\\r\\n    height: 100vh;\\r\\n    width: 100vw;\\r\\n  }\\r\\nform[_ngcontent-%COMP%] {\\r\\n    width: 30vw;\\r\\n    min-width: 500px;\\r\\n    align-self: center;\\r\\n    box-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\\r\\n      0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\\r\\n    border-radius: 7px;\\r\\n    padding: 40px;\\r\\n  }\\r\\n.hidden[_ngcontent-%COMP%] {\\r\\n    display: none;\\r\\n  }\\r\\n#payment-message[_ngcontent-%COMP%] {\\r\\n    color: rgb(105, 115, 134);\\r\\n    font-size: 16px;\\r\\n    line-height: 20px;\\r\\n    padding-top: 12px;\\r\\n    text-align: center;\\r\\n  }\\r\\n#payment-element[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 24px;\\r\\n  }\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    background: #5469d4;\\r\\n    font-family: Arial, sans-serif;\\r\\n    color: #ffffff;\\r\\n    border-radius: 4px;\\r\\n    border: 0;\\r\\n    padding: 12px 16px;\\r\\n    font-size: 16px;\\r\\n    font-weight: 600;\\r\\n    cursor: pointer;\\r\\n    display: block;\\r\\n    transition: all 0.2s ease;\\r\\n    box-shadow: 0px 4px 5.5px 0px rgba(0, 0, 0, 0.07);\\r\\n    width: 100%;\\r\\n  }\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n    filter: contrast(115%);\\r\\n  }\\r\\nbutton[_ngcontent-%COMP%]:disabled {\\r\\n    opacity: 0.5;\\r\\n    cursor: default;\\r\\n  }\\r\\n\\r\\n.spinner[_ngcontent-%COMP%], .spinner[_ngcontent-%COMP%]:before, .spinner[_ngcontent-%COMP%]:after {\\r\\n    border-radius: 50%;\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    color: #ffffff;\\r\\n    font-size: 22px;\\r\\n    text-indent: -99999px;\\r\\n    margin: 0px auto;\\r\\n    position: relative;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    box-shadow: inset 0 0 0 2px;\\r\\n    transform: translateZ(0);\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%]:before, .spinner[_ngcontent-%COMP%]:after {\\r\\n    position: absolute;\\r\\n    content: \\\"\\\";\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%]:before {\\r\\n    width: 10.4px;\\r\\n    height: 20.4px;\\r\\n    background: #5469d4;\\r\\n    border-radius: 20.4px 0 0 20.4px;\\r\\n    top: -0.2px;\\r\\n    left: -0.2px;\\r\\n    transform-origin: 10.4px 10.2px;\\r\\n    animation: loading 2s infinite ease 1.5s;\\r\\n  }\\r\\n.spinner[_ngcontent-%COMP%]:after {\\r\\n    width: 10.4px;\\r\\n    height: 10.2px;\\r\\n    background: #5469d4;\\r\\n    border-radius: 0 10.2px 10.2px 0;\\r\\n    top: -0.1px;\\r\\n    left: 10.2px;\\r\\n    transform-origin: 0px 10.2px;\\r\\n    animation: loading 2s infinite ease;\\r\\n  }\\r\\n@keyframes loading {\\r\\n    0% {\\r\\n      transform: rotate(0deg);\\r\\n    }\\r\\n    100% {\\r\\n      transform: rotate(360deg);\\r\\n    }\\r\\n  }\\r\\n@media only screen and (max-width: 600px) {\\r\\n    form[_ngcontent-%COMP%] {\\r\\n      width: 80vw;\\r\\n      min-width: initial;\\r\\n    }\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmlwZS1wYWllbWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWM7QUFDZDtJQUNJLHNCQUFzQjtFQUN4QjtBQUVBO0lBQ0UsMERBQTBEO0lBQzFELGVBQWU7SUFDZixtQ0FBbUM7SUFDbkMsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixxQkFBcUI7SUFDckIsYUFBYTtJQUNiLFlBQVk7RUFDZDtBQUVBO0lBQ0UsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEI7a0ZBQzhFO0lBQzlFLGtCQUFrQjtJQUNsQixhQUFhO0VBQ2Y7QUFFQTtJQUNFLGFBQWE7RUFDZjtBQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtFQUNwQjtBQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCO0FBRUEsc0JBQXNCO0FBQ3RCO0lBQ0UsbUJBQW1CO0lBQ25CLDhCQUE4QjtJQUM5QixjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpREFBaUQ7SUFDakQsV0FBVztFQUNiO0FBQ0E7SUFDRSxzQkFBc0I7RUFDeEI7QUFDQTtJQUNFLFlBQVk7SUFDWixlQUFlO0VBQ2pCO0FBRUEscUNBQXFDO0FBQ3JDOzs7SUFHRSxrQkFBa0I7RUFDcEI7QUFDQTtJQUNFLGNBQWM7SUFDZCxlQUFlO0lBQ2YscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWiwyQkFBMkI7SUFHM0Isd0JBQXdCO0VBQzFCO0FBQ0E7O0lBRUUsa0JBQWtCO0lBQ2xCLFdBQVc7RUFDYjtBQUNBO0lBQ0UsYUFBYTtJQUNiLGNBQWM7SUFDZCxtQkFBbUI7SUFDbkIsZ0NBQWdDO0lBQ2hDLFdBQVc7SUFDWCxZQUFZO0lBRVosK0JBQStCO0lBRS9CLHdDQUF3QztFQUMxQztBQUNBO0lBQ0UsYUFBYTtJQUNiLGNBQWM7SUFDZCxtQkFBbUI7SUFDbkIsZ0NBQWdDO0lBQ2hDLFdBQVc7SUFDWCxZQUFZO0lBRVosNEJBQTRCO0lBRTVCLG1DQUFtQztFQUNyQztBQVlBO0lBQ0U7TUFFRSx1QkFBdUI7SUFDekI7SUFDQTtNQUVFLHlCQUF5QjtJQUMzQjtFQUNGO0FBRUE7SUFDRTtNQUNFLFdBQVc7TUFDWCxrQkFBa0I7SUFDcEI7RUFDRiIsImZpbGUiOiJzdHJpcGUtcGFpZW1lbnQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFZhcmlhYmxlcyAqL1xyXG4qIHtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgfVxyXG4gIFxyXG4gIGJvZHkge1xyXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIHdpZHRoOiAxMDB2dztcclxuICB9XHJcbiAgXHJcbiAgZm9ybSB7XHJcbiAgICB3aWR0aDogMzB2dztcclxuICAgIG1pbi13aWR0aDogNTAwcHg7XHJcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDBweCAwLjVweCByZ2JhKDUwLCA1MCwgOTMsIDAuMSksXHJcbiAgICAgIDBweCAycHggNXB4IDBweCByZ2JhKDUwLCA1MCwgOTMsIDAuMSksIDBweCAxcHggMS41cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA3cHg7XHJcbiAgICBwYWRkaW5nOiA0MHB4O1xyXG4gIH1cclxuICBcclxuICAuaGlkZGVuIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG4gIFxyXG4gICNwYXltZW50LW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6IHJnYigxMDUsIDExNSwgMTM0KTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDEycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gICNwYXltZW50LWVsZW1lbnQge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICB9XHJcbiAgXHJcbiAgLyogQnV0dG9ucyBhbmQgbGlua3MgKi9cclxuICBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogIzU0NjlkNDtcclxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgcGFkZGluZzogMTJweCAxNnB4O1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcclxuICAgIGJveC1zaGFkb3c6IDBweCA0cHggNS41cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgYnV0dG9uOmhvdmVyIHtcclxuICAgIGZpbHRlcjogY29udHJhc3QoMTE1JSk7XHJcbiAgfVxyXG4gIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIHNwaW5uZXIvcHJvY2Vzc2luZyBzdGF0ZSwgZXJyb3JzICovXHJcbiAgLnNwaW5uZXIsXHJcbiAgLnNwaW5uZXI6YmVmb3JlLFxyXG4gIC5zcGlubmVyOmFmdGVyIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICB9XHJcbiAgLnNwaW5uZXIge1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICB0ZXh0LWluZGVudDogLTk5OTk5cHg7XHJcbiAgICBtYXJnaW46IDBweCBhdXRvO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgd2lkdGg6IDIwcHg7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgMCAycHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcclxuICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XHJcbiAgfVxyXG4gIC5zcGlubmVyOmJlZm9yZSxcclxuICAuc3Bpbm5lcjphZnRlciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG4gIH1cclxuICAuc3Bpbm5lcjpiZWZvcmUge1xyXG4gICAgd2lkdGg6IDEwLjRweDtcclxuICAgIGhlaWdodDogMjAuNHB4O1xyXG4gICAgYmFja2dyb3VuZDogIzU0NjlkNDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwLjRweCAwIDAgMjAuNHB4O1xyXG4gICAgdG9wOiAtMC4ycHg7XHJcbiAgICBsZWZ0OiAtMC4ycHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDEwLjRweCAxMC4ycHg7XHJcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAxMC40cHggMTAuMnB4O1xyXG4gICAgLXdlYmtpdC1hbmltYXRpb246IGxvYWRpbmcgMnMgaW5maW5pdGUgZWFzZSAxLjVzO1xyXG4gICAgYW5pbWF0aW9uOiBsb2FkaW5nIDJzIGluZmluaXRlIGVhc2UgMS41cztcclxuICB9XHJcbiAgLnNwaW5uZXI6YWZ0ZXIge1xyXG4gICAgd2lkdGg6IDEwLjRweDtcclxuICAgIGhlaWdodDogMTAuMnB4O1xyXG4gICAgYmFja2dyb3VuZDogIzU0NjlkNDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAgMTAuMnB4IDEwLjJweCAwO1xyXG4gICAgdG9wOiAtMC4xcHg7XHJcbiAgICBsZWZ0OiAxMC4ycHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDBweCAxMC4ycHg7XHJcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwcHggMTAuMnB4O1xyXG4gICAgLXdlYmtpdC1hbmltYXRpb246IGxvYWRpbmcgMnMgaW5maW5pdGUgZWFzZTtcclxuICAgIGFuaW1hdGlvbjogbG9hZGluZyAycyBpbmZpbml0ZSBlYXNlO1xyXG4gIH1cclxuICBcclxuICBALXdlYmtpdC1rZXlmcmFtZXMgbG9hZGluZyB7XHJcbiAgICAwJSB7XHJcbiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgIH1cclxuICB9XHJcbiAgQGtleWZyYW1lcyBsb2FkaW5nIHtcclxuICAgIDAlIHtcclxuICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgICB9XHJcbiAgICAxMDAlIHtcclxuICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcbiAgICBmb3JtIHtcclxuICAgICAgd2lkdGg6IDgwdnc7XHJcbiAgICAgIG1pbi13aWR0aDogaW5pdGlhbDtcclxuICAgIH1cclxuICB9Il19 */\"] });\r\nfunction Stripe(arg0) {\r\n    throw new Error('Function not implemented.');\r\n}\r\n"]},"metadata":{},"sourceType":"module"}